<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Save/Load - Football Management Game</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            color: #fff;
            font-family: 'Press Start 2P', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }
        
        .game-container {
            width: 800px;
            height: 600px;
            position: relative;
            background-color: #000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .screen-title {
            font-size: 32px;
            margin-bottom: 40px;
            color: #fff;
            text-align: center;
        }
        
        .save-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            width: 600px;
            margin-bottom: 40px;
        }
        
        .save-slot {
            width: 270px;
            height: 150px;
            background-color: #333;
            border: 2px solid #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            padding: 15px;
            text-align: center;
        }
        
        .save-slot:hover {
            background-color: #444;
            transform: scale(1.05);
        }
        
        .save-slot.empty {
            border-color: #666;
            background-color: #222;
        }
        
        .save-slot.empty:hover {
            background-color: #333;
        }
        
        .save-slot.selected {
            background-color: #00ffff;
            border-color: #ffff00;
        }
        
        .save-icon {
            width: 60px;
            height: 60px;
            background-color: #fff;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
        }
        
        .save-name {
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .save-date {
            font-size: 10px;
            color: #888;
        }
        
        .save-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .action-button {
            background-color: #00ffff;
            color: #000;
            border: none;
            padding: 8px 15px;
            font-family: 'Press Start 2P', monospace;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .action-button:hover {
            background-color: #ffff00;
            transform: scale(1.05);
        }
        
        .button {
            background-color: #00ffff;
            color: #000;
            border: none;
            padding: 15px 30px;
            font-family: 'Press Start 2P', monospace;
            font-size: 16px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.2s;
        }
        
        .button:hover {
            background-color: #ffff00;
            transform: scale(1.05);
        }
        
        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: #ff0000;
        }
        
        .new-save-form {
            width: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }
        
        .new-save-input {
            width: 100%;
            padding: 10px;
            font-family: 'Press Start 2P', monospace;
            font-size: 14px;
            background-color: #333;
            color: #fff;
            border: 2px solid #fff;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .instructions {
            text-align: center;
            font-size: 14px;
            margin-bottom: 20px;
            max-width: 500px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <button class="button back-button" onclick="goBack()">Back</button>
        
        <h1 class="screen-title">SAVE/LOAD MENU</h1>
        
        <div class="instructions">
            Manage your game saves. Click on a save slot to load, or create a new save.
        </div>
        
        <div class="save-grid" id="saveGrid">
            <!-- Save slots will be dynamically added here -->
        </div>
        
        <div class="new-save-form hidden" id="newSaveForm">
            <input 
                type="text" 
                class="new-save-input" 
                id="newSaveName" 
                placeholder="Enter save name"
                maxlength="20"
            >
            <div style="display: flex; gap: 15px;">
                <button class="button" onclick="createNewSave()">Create Save</button>
                <button class="button" onclick="cancelNewSave()">Cancel</button>
            </div>
        </div>
        
        <div style="display: flex; gap: 20px; margin-top: 20px;">
            <button class="button" onclick="showNewSaveForm()">New Save</button>
            <button class="button" onclick="deleteSelectedSave()">Delete Save</button>
        </div>
    </div>

    <script>
        const saveSlots = [
            { id: 1, name: 'Save 1', date: '2024-01-01', empty: true },
            { id: 2, name: 'Save 2', date: '2024-01-01', empty: true },
            { id: 3, name: 'Save 3', date: '2024-01-01', empty: true },
            { id: 4, name: 'Save 4', date: '2024-01-01', empty: true }
        ];
        
        let selectedSave = null;
        let showNewSave = false;
        
        function initializeSaveSlots() {
            const saveGrid = document.getElementById('saveGrid');
            
            saveSlots.forEach((slot, index) => {
                const saveSlot = document.createElement('div');
                saveSlot.className = `save-slot ${slot.empty ? 'empty' : ''}`;
                saveSlot.dataset.saveId = slot.id;
                
                const saveIcon = document.createElement('div');
                saveIcon.className = 'save-icon';
                saveIcon.textContent = slot.empty ? 'ðŸ“' : 'ðŸ’¾';
                
                const saveName = document.createElement('div');
                saveName.className = 'save-name';
                saveName.textContent = slot.name;
                
                const saveDate = document.createElement('div');
                saveDate.className = 'save-date';
                saveDate.textContent = slot.date;
                
                saveSlot.appendChild(saveIcon);
                saveSlot.appendChild(saveName);
                saveSlot.appendChild(saveDate);
                
                if (!slot.empty) {
                    const saveActions = document.createElement('div');
                    saveActions.className = 'save-actions';
                    
                    const loadButton = document.createElement('button');
                    loadButton.className = 'action-button';
                    loadButton.textContent = 'LOAD';
                    loadButton.onclick = () => loadSave(slot.id);
                    
                    const deleteButton = document.createElement('button');
                    deleteButton.className = 'action-button';
                    deleteButton.textContent = 'DELETE';
                    deleteButton.onclick = () => deleteSave(slot.id);
                    
                    saveActions.appendChild(loadButton);
                    saveActions.appendChild(deleteButton);
                    saveSlot.appendChild(saveActions);
                }
                
                saveSlot.addEventListener('click', () => selectSave(slot.id));
                
                saveGrid.appendChild(saveSlot);
            });
        }
        
        function selectSave(saveId) {
            // Remove previous selection
            document.querySelectorAll('.save-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            
            // Add selection to clicked save
            const selectedSlot = document.querySelector(`[data-save-id="${saveId}"]`);
            selectedSlot.classList.add('selected');
            
            selectedSave = saveSlots.find(s => s.id === saveId);
        }
        
        function loadSave(saveId) {
            const save = saveSlots.find(s => s.id === saveId);
            if (save && !save.empty) {
                // In a real implementation, would load from backend
                alert(`Loading save: ${save.name}`);
                // window.location.href = 'index.html';
            }
        }
        
        function deleteSave(saveId) {
            const save = saveSlots.find(s => s.id === saveId);
            if (save && !save.empty) {
                if (confirm(`Delete save "${save.name}"?`)) {
                    // In a real implementation, would delete from backend
                    save.empty = true;
                    save.name = `Save ${saveId}`;
                    save.date = '2024-01-01';
                    refreshSaveSlots();
                }
            }
        }
        
        function showNewSaveForm() {
            document.getElementById('newSaveForm').classList.remove('hidden');
            document.getElementById('newSaveName').focus();
        }
        
        function cancelNewSave() {
            document.getElementById('newSaveForm').classList.add('hidden');
            document.getElementById('newSaveName').value = '';
        }
        
        function createNewSave() {
            const saveName = document.getElementById('newSaveName').value.trim();
            if (saveName) {
                // Find first empty slot
                const emptySlot = saveSlots.find(s => s.empty);
                if (emptySlot) {
                    emptySlot.empty = false;
                    emptySlot.name = saveName;
                    emptySlot.date = new Date().toISOString().split('T')[0];
                    
                    // In a real implementation, would save to backend
                    refreshSaveSlots();
                    cancelNewSave();
                    alert(`Save created: ${saveName}`);
                }
            }
        }
        
        function deleteSelectedSave() {
            if (selectedSave && !selectedSave.empty) {
                if (confirm(`Delete save "${selectedSave.name}"?`)) {
                    selectedSave.empty = true;
                    selectedSave.name = `Save ${selectedSave.id}`;
                    selectedSave.date = '2024-01-01';
                    refreshSaveSlots();
                }
            }
        }
        
        function refreshSaveSlots() {
            const saveGrid = document.getElementById('saveGrid');
            saveGrid.innerHTML = '';
            initializeSaveSlots();
        }
        
        function goBack() {
            window.location.href = 'index.html';
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initializeSaveSlots();
            
            // Load saves from backend in real implementation
            // For demo, we'll simulate some saves
            saveSlots[0].empty = false;
            saveSlots[0].name = 'My First Season';
            saveSlots[0].date = '2024-01-05';
            
            refreshSaveSlots();
        });
    </script>
</body>
</html>